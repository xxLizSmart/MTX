import{r as s,b as R,u as V,d as B,a as _,j as e,M as D,L as H}from"./index-d9a06326.js";import{H as I}from"./Helmet-90a894cc.js";import{A as O}from"./AuthLayout-7c831802.js";import{P as T,E as v}from"./phone-e9e0dfe8.js";import{E as N}from"./eye-2a86ceb8.js";import{A as $}from"./arrow-right-6bb328b6.js";const W=()=>{const[p,w]=s.useState(""),[b,y]=s.useState(""),[d,C]=s.useState(""),[c,S]=s.useState(""),[m,E]=s.useState(""),[f,P]=s.useState(""),[g,k]=s.useState(""),[a,o]=s.useState(!1),[u,A]=s.useState(!1),[x,z]=s.useState(!1),[r,j]=s.useState("email"),{signUp:L}=R(),q=V(),{toast:n}=B(),{t:i}=_(),F=async t=>{if(t.preventDefault(),m!==f){n({variant:"destructive",title:i("error"),description:"Passwords do not match."});return}o(!0);const h={password:m};if(r==="email"){if(!d){n({variant:"destructive",title:i("error"),description:"Email is required."}),o(!1);return}h.email=d}else{if(!c){n({variant:"destructive",title:i("error"),description:"Phone number is required."}),o(!1);return}h.phone=c}const{error:M}=await L(h,{data:{first_name:p,last_name:b,referred_by:g}});M||(n({title:i("success"),description:"Success! Please check your email or phone to verify your account."}),q("/login")),o(!1)},l="w-full bg-[#1F2937] border border-slate-700 rounded-lg px-4 py-3 text-[16px] text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all";return e.jsxs(e.Fragment,{children:[e.jsx(I,{children:e.jsxs("title",{children:[i("register")," - MetaTradeX"]})}),e.jsxs(O,{children:[e.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Create account"}),e.jsx("p",{className:"text-slate-400 mb-6",children:"Start trading on the world's most advanced platform"}),e.jsxs("div",{className:"flex mb-6 bg-[#1F2937] rounded-lg p-1 border border-slate-700",children:[e.jsxs("button",{type:"button",onClick:()=>j("email"),className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-md text-sm font-medium transition-all ${r==="email"?"bg-[#2563EB] text-white shadow-md":"text-slate-400 hover:text-white"}`,children:[e.jsx(D,{size:16})," Email"]}),e.jsxs("button",{type:"button",onClick:()=>j("phone"),className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-md text-sm font-medium transition-all ${r==="phone"?"bg-[#2563EB] text-white shadow-md":"text-slate-400 hover:text-white"}`,children:[e.jsx(T,{size:16})," Phone"]})]}),e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"First Name"}),e.jsx("input",{type:"text",value:p,onChange:t=>w(t.target.value),required:!0,disabled:a,className:l,placeholder:"John"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Last Name"}),e.jsx("input",{type:"text",value:b,onChange:t=>y(t.target.value),required:!0,disabled:a,className:l,placeholder:"Doe"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:r==="email"?"Email Address":"Phone Number"}),e.jsx("input",{type:r==="email"?"email":"tel",value:r==="email"?d:c,onChange:t=>r==="email"?C(t.target.value):S(t.target.value),disabled:a,className:l,placeholder:r==="email"?"name@company.com":"+1234567890"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:u?"text":"password",value:m,onChange:t=>E(t.target.value),required:!0,disabled:a,className:l,placeholder:"Create a strong password"}),e.jsx("button",{type:"button",onClick:()=>A(!u),className:"absolute right-3 top-3.5 text-slate-500 hover:text-white transition-colors",children:u?e.jsx(v,{size:18}):e.jsx(N,{size:18})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:x?"text":"password",value:f,onChange:t=>P(t.target.value),required:!0,disabled:a,className:l,placeholder:"Confirm your password"}),e.jsx("button",{type:"button",onClick:()=>z(!x),className:"absolute right-3 top-3.5 text-slate-500 hover:text-white transition-colors",children:x?e.jsx(v,{size:18}):e.jsx(N,{size:18})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Referral Code (Optional)"}),e.jsx("input",{type:"text",value:g,onChange:t=>k(t.target.value),disabled:a,className:l,placeholder:"Enter referral code"})]}),e.jsx("button",{type:"submit",disabled:a,className:"w-full bg-[#2563EB] hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold py-3 rounded-lg flex items-center justify-center gap-2 transition-all shadow-lg shadow-blue-600/20 mt-2 min-h-[44px]",children:a?e.jsx("div",{className:"h-5 w-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:["Create Account ",e.jsx($,{size:18})]})}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs("p",{className:"text-slate-500 text-sm",children:["Already have an account?"," ",e.jsx(H,{to:"/login",className:"text-blue-500 hover:text-blue-400 font-medium transition-colors",children:"Sign in"})]})})]})]})]})};export{W as default};
