import{r as a,a as j,b,d as g,e as P,j as s,B as C}from"./index-a74a7c1a.js";import{H as v}from"./Helmet-9de942c9.js";import{I as l}from"./input-e2d4a862.js";import{L as u}from"./label-7491db19.js";import{C as y,a as N,b as S,d as E,c as U}from"./card-1049f9d3.js";const B=()=>{const[t,m]=a.useState(""),[n,p]=a.useState(""),[r,c]=a.useState(!1),[i,o]=a.useState(""),{updateUserPassword:h}=j(),x=b(),{toast:f}=g();a.useEffect(()=>{const{data:{subscription:e}}=P.auth.onAuthStateChange(async(d,F)=>{});return()=>{e==null||e.unsubscribe()}},[]);const w=async e=>{if(e.preventDefault(),t!==n){o("Passwords do not match.");return}if(t.length<6){o("Password should be at least 6 characters.");return}o(""),c(!0);const{error:d}=await h(t);d?o(d.message):(f({title:"Success!",description:"Your password has been updated successfully."}),x("/login")),c(!1)};return s.jsxs(s.Fragment,{children:[s.jsx(v,{children:s.jsx("title",{children:"Update Password - MetaTradeX"})}),s.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 bg-gradient-to-br from-background to-secondary/10",children:s.jsxs(y,{className:"w-full max-w-md",children:[s.jsxs(N,{className:"text-center",children:[s.jsx(S,{className:"text-3xl font-bold",children:"Update Your Password"}),s.jsx(E,{children:"Enter a new password for your account."})]}),s.jsx(U,{children:s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(u,{htmlFor:"password",children:"New Password"}),s.jsx(l,{id:"password",type:"password",value:t,onChange:e=>m(e.target.value),required:!0,disabled:r})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(u,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsx(l,{id:"confirmPassword",type:"password",value:n,onChange:e=>p(e.target.value),required:!0,disabled:r})]}),i&&s.jsx("p",{className:"text-sm text-destructive",children:i}),s.jsx(C,{type:"submit",className:"w-full !mt-6",disabled:r,children:r?"Updating...":"Update Password"})]})})]})})]})};export{B as default};
