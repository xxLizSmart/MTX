import{r as t,a as M,b as H,d as R,u as k,j as e,M as I,B as _,L as A}from"./index-bc28f289.js";import{H as B}from"./Helmet-2bae2f2d.js";import{I as i}from"./input-e21fa800.js";import{L as l}from"./label-c69623d7.js";import{C as D,a as U,b as O,d as V,c as X}from"./card-d5d390a5.js";import{T as z,a as G,b as g,c as v}from"./tabs-36d75991.js";import{P as J}from"./phone-ff2681af.js";const se=()=>{const[h,N]=t.useState(""),[p,b]=t.useState(""),[d,y]=t.useState(""),[c,C]=t.useState(""),[m,w]=t.useState(""),[x,P]=t.useState(""),[j,S]=t.useState(""),[r,n]=t.useState(!1),{signUp:F}=M(),T=H(),{toast:o}=R(),{t:s}=k(),[f,L]=t.useState("email"),q=async a=>{if(a.preventDefault(),m!==x){o({variant:"destructive",title:s("error"),description:"Passwords do not match."});return}n(!0);const u={password:m};if(f==="email"){if(!d){o({variant:"destructive",title:s("error"),description:"Email is required."}),n(!1);return}u.email=d}else{if(!c){o({variant:"destructive",title:s("error"),description:"Phone number is required."}),n(!1);return}u.phone=c}const{error:E}=await F(u,{data:{first_name:h,last_name:p,referred_by:j}});E||(o({title:s("success"),description:"Success! Please check your email or phone to verify your account."}),T("/login")),n(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(B,{children:e.jsxs("title",{children:[s("register")," - MetaTradeX"]})}),e.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 bg-gradient-to-br from-background to-secondary/10",children:e.jsxs(D,{className:"w-full max-w-md",children:[e.jsxs(U,{className:"text-center",children:[e.jsx(O,{className:"text-3xl font-bold",children:s("register")}),e.jsx(V,{children:"Create your account to start trading."})]}),e.jsxs(X,{children:[e.jsxs("form",{onSubmit:q,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"firstName",children:s("firstName")}),e.jsx(i,{id:"firstName",value:h,onChange:a=>N(a.target.value),required:!0,disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"lastName",children:s("lastName")}),e.jsx(i,{id:"lastName",value:p,onChange:a=>b(a.target.value),required:!0,disabled:r})]})]}),e.jsxs(z,{value:f,onValueChange:L,className:"w-full",children:[e.jsxs(G,{className:"grid w-full grid-cols-2",children:[e.jsxs(g,{value:"email",children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),"Email"]}),e.jsxs(g,{value:"phone",children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),"Phone"]})]}),e.jsx(v,{value:"email",children:e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsx(l,{htmlFor:"email",children:s("email")}),e.jsx(i,{id:"email",type:"email",value:d,onChange:a=>y(a.target.value),disabled:r,placeholder:"you@example.com"})]})}),e.jsx(v,{value:"phone",children:e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsx(l,{htmlFor:"phone",children:"Phone Number"}),e.jsx(i,{id:"phone",type:"tel",value:c,onChange:a=>C(a.target.value),disabled:r,placeholder:"+1234567890"})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"password",children:s("password")}),e.jsx(i,{id:"password",type:"password",value:m,onChange:a=>w(a.target.value),required:!0,disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"confirmPassword",children:s("confirmPassword")}),e.jsx(i,{id:"confirmPassword",type:"password",value:x,onChange:a=>P(a.target.value),required:!0,disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"referralCode",children:"Referral Code (Optional)"}),e.jsx(i,{id:"referralCode",value:j,onChange:a=>S(a.target.value),disabled:r})]}),e.jsx(_,{type:"submit",className:"w-full !mt-6",disabled:r,children:s(r?"loading":"signUp")})]}),e.jsxs("p",{className:"mt-4 text-center text-sm",children:[s("alreadyHaveAccount")," ",e.jsx(A,{to:"/login",className:"font-semibold text-primary hover:underline",children:s("signIn")})]})]})]})})]})};export{se as default};
